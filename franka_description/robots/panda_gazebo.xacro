<?xml version='1.0' encoding='utf-8'?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="panda">

  <!-- =============================================================== -->
  <!-- || This file does not contain official inertial properties   || -->
  <!-- || of panda robot. The values are from the identification    || -->
  <!-- || results published in: Identification of the Franka Emika  || -->
  <!-- || PandaRobot With Retrieval of Feasible Parameters Using    || -->
  <!-- || Penalty-Based Optimization                                || -->
  <!-- || by: Claudio Gaz, Marco Cognetti, Alexander Oliva,         || -->
  <!-- || Paolo Robuffo Giordano, Alessandro de Lucaa               || -->
  <!-- =============================================================== -->

  <xacro:macro name="panda_arm" params="arm_id:='panda'">

    <link name="${arm_id}_link0">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link1">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link2">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link3">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link4">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link5">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link6">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <mass value="${0.5*10./9.80}" />
        <origin xyz="0 0 0.05" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>
    <link name="${arm_id}_link7">
      <visual>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </visual>
      <collision>
        <origin xyz="0 0 0.05" />
        <geometry><box size="0.02 0.02 0.08" /></geometry>
      </collision>
      <inertial>
        <origin xyz="0 0 0.05" />
        <mass value="${0.5*10./9.80}" />
        <inertia ixx="0.1" iyy="0.1" izz="0.1"
                 ixy="0"   ixz="0"   iyz="0" />
      </inertial>
    </link>

    <link name="${arm_id}_link8" />





    <joint name="${arm_id}_joint1" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link0"/>
      <child link="${arm_id}_link1"/>
      <axis xyz="0 1 0"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <joint name="${arm_id}_joint2" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link1"/>
      <child link="${arm_id}_link2"/>
      <axis xyz="0 0 1"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <joint name="${arm_id}_joint3" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link2"/>
      <child link="${arm_id}_link3"/>
      <axis xyz="0 0 1"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <joint name="${arm_id}_joint4" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link3"/>
      <child link="${arm_id}_link4"/>
      <axis xyz="0 0 1"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <joint name="${arm_id}_joint5" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link4"/>
      <child link="${arm_id}_link5"/>
      <axis xyz="0 0 1"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <!-- Joint 6 WITHOUT Rotation -->
    <joint name="${arm_id}_joint6" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link5"/>
      <child link="${arm_id}_link6"/>
      <axis xyz="0 1 0"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <!-- Joint 6 WITH Rotation -->
    <!-- <joint name="${arm_id}_joint6" type="revolute"> -->
    <!--   <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/> -->
    <!--   <origin rpy="${pi/2} 0 0" xyz="0 0 0.1"/> -->
    <!--   <parent link="${arm_id}_link5"/> -->
    <!--   <child link="${arm_id}_link6"/> -->
    <!--   <axis xyz="0 0 1"/> -->
    <!--   <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/> -->
    <!--   <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/> -->
    <!-- </joint> -->

    <joint name="${arm_id}_joint7" type="revolute">
      <safety_controller k_position="100.0" k_velocity="40.0" soft_lower_limit="-2.8973" soft_upper_limit="2.8973"/>
      <origin rpy="${pi/2} 0 0" xyz="0 0 0.1"/>
      <parent link="${arm_id}_link6"/>
      <child link="${arm_id}_link7"/>
      <axis xyz="0 0 1"/>
      <limit acceleration="15" lower="-2.9671" effort="87" upper="2.9671" velocity="2.5"/>
      <dynamics D="1" K="7000" mu_coulomb="0" mu_viscous="16" damping="0.003" friction="0.0"/>
    </joint>

    <joint name="${arm_id}_joint8" type="fixed">
      <origin xyz="0 0 0.05" rpy="0 0 0" />
      <parent link="${arm_id}_link7" />
      <child  link="${arm_id}_link8" />
    </joint>

  </xacro:macro>


</robot>
